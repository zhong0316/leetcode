package org.whuims.leetcode.dfs;

import java.util.HashMap;
import java.util.HashSet;
import java.util.Map;
import java.util.Set;

public class SimilarStringGroups {

    public static void main(String[] args) {
        SimilarStringGroups similarStringGroups = new SimilarStringGroups();
        String[] A = new String[]{"xsfiqspnyg","sfgixnqysp","ngpssyfixq","snyixgfqsp","sqpnyixgsf","fxgispnsyq","yipqxfngss","gssqpynixf","nsgfxyipqs","sxsnyqfgip","sfxpysingq","sgypfxnqsi","xpsfsiygnq","fsspxqgyni","xssiqnfypg","yinsxfsqpg","gyisxqsfpn","sfnpxiqsyg","signfqypxs","sxfqgsynip","nsgyqsxifp","nqyisgfsxp","sqypfxngsi","psqigsyfnx","fxgpqsisny","ifnxpgqssy","fsgsxqyinp","fyigsqxnps","spsxqfingy","pfgsixsyqn","qyxsfigpns","figsxnspyq","syignsxfpq","nsqsfiypxg","gssfpxiynq","syqgxsipnf","yqnspixfsg","fnspqyixgs","nsiyxsqpfg","gsxsfypnqi","qsfngipxsy","psxfyisnqg","sxnypsqfgi","fsipxngyqs","xgfsypqsin","qfigsxsynp","ifpgnsyxsq","gsxsiypnqf","gxssyiqfnp","qisfnxpgsy","ssxyqfinpg","yixpsqsfgn","piyfsxgqsn","ixqsgfnyps","gsinysxqfp","sysgqixfnp","fsqxnyigsp","sgxiqspnfy","fpqyxsigns","sqgyixpfsn","ygqnsispxf","ixyssgqfnp","yinspxsfqg","sysqifnxgp","ygsqsxnifp","gsxsifpnqy","nqsiypgfxs","yfssigxpqn","xspsqfnyig","sqnypsxigf","qsipsxngfy","qsisxpgnyf","sxfpsnyqig","synsifgpxq","qnsygfpxsi","ysigpnqsfx","fpgiqnxssy","sqyixngpfs","fspiqxsyng","xgfqssipyn","sgxnsyipfq","sfnpgyqisx","niqfsspyxg","sygfpxnqsi","ginsqspxfy","yipsnxsfqg","qinsxpyfsg","gpfysqnsix","sqgfpixsyn","pnisqgfxsy","npgiyqsxsf","sgyipsfxnq","fsqnisyxpg","xsypgqinsf","pqifnyxssg","fsigyqspnx","qginxssfyp","nspxfsgqiy","siqfpgnyxs","syxqginpfs","xpnygfqssi","fgispnxysq","pyixnfsgsq","gsixnspyqf","sgqfyxspni","qspyfigxns","sgqsnfxipy","siqspgnyfx","sxpgniqyfs","fgxyspsqin","ssynxfgqip","xngissypfq","snqxfpsyig","siqfspgynx","gysqspfixn","sixpsqfnyg","nspxqsgfiy","sfqiypngxs","fqxyspsnig","nsisqpxgfy","gxnpysfsqi","ysgqpxinfs","fqssxgpiyn","ifygsqpsnx","xsygiqnfps","sfisxgnqyp","syfxgispnq","fgsipyxsqn","qnpssxgfyi","sgxfsyipnq","spgfisxqyn","nixssypgqf","ygisqxfsnp","gpifqxssny","npfqxisysg","fissxqpnyg","fysgnpixqs","xsnispqygf","sygfqispxn","gxispnfysq","figpxnssyq","ygixsfsnqp","qssyipfgnx","xqngypfsis","fsxnpgyqsi","gfnqxsyspi","synfsxqgpi","inqpgssxfy","npqxsfgsyi","syigsxqfnp","sfnixpqsyg","pgxisyfqsn","nspygsfqxi","spqifygsnx","gsinypfsxq","pngfssyqix","yxsisnpfgq","nxsyfipgqs","iypqsngxfs","piqsnfxsgy","nfxsqyspgi","sqyfigpxns","siyfsxpgqn","sqpfynisxg","finspgqxys","ysfipxgqsn","sxipqfgsny","sfqixypsng","xnypgqissf","xypifqsgns","xsyngifpsq","snfispxygq","pnsfixgqsy","snygpfxqis","sqsnypfgix","sgipnfxysq","ynisxfqspg","ypgsixqfsn","siqpgsnfxy","nygqisxpfs","fnqyxpigss","qsxyfigpns","fsxypgqsni","syqfgsnpix","ipnsxyqfsg","qfynsgspxi","ixnqfsyspg","gpyxsqifns","yspnqxsgif","qsfnysxpgi","ygqnxispsf","fpyxgqnsis","fnyspsxgiq","fsxpngsqyi","yfxisspgnq","gqsxfpysni","qysxpfgnis","fnixspygqs","xnpsiqyfgs","sfqiysngxp","qxisgfnyps","xipsfsyqgn","qsxpisngfy","syxqispgfn","siynxgqfps","fqpgssyxin","ysinxqfspg","ifnspgqsxy","ysfnqgpsxi","ysfnqgpsix","nfgqisypxs","sfyqpgsnxi","sfxiyspngq","iysspnxfgq","ygfxpinssq","sgifyqpxns","fsqpnsgxyi","nsgxisfpqy","sgyxfnipqs","pnxgssyqif","sxpsgqfyin","yfxgispqns","yfqixsnpsg","ysgsixpfqn","yfxgisqpsn","qsgpnfixys","qsfpxnygsi","psyxsqfgin","fypxgsqisn","qssingpxyf","fyisngpxqs","snsqixgfpy","nifyqspxsg","pnssixfqyg","gyfnsxspqi","inqssypgfx","ifpyxsnsqg","qsfngxpisy","gsyfnxispq","gsynqsxifp","qxisgfynps","sqnixygpfs","yissxqpnfg","yqsxgsnfip","qxnifgypss","ngqisspyxf","ygqsspxnif","qpsgiyxsfn","pyqgfsinsx","sifpsnyqxg","pxgnsyfqis","gssqinpxfy","ypqfisxgsn","qpysgsinxf","sfqnispyxg","nyixsspqfg","fyqpsgsnxi","gsfxspnyiq","qngypxsifs","ixfpqsngys","fpyqsxisng","ysxginsfpq","nxqsiyfpgs","fqsyipsxgn","xnqisgsfyp","qnpxifyssg","iqnsgysxfp","sqxnifgpsy","gnfpxyiqss","sixsgyfqpn","fsqpxsgnyi","yqsipsgnxf","pfissngqxy","sgpqynifxs","nqsyfgsxpi","syfgsqpinx","fsqsngyxip","fsnqpxiygs","xsisqnfypg","sngyfspxiq","fixgsypqsn","spsynqixfg","snypisgxfq","pnysqgisfx","qnpisyfgsx","nspxisyqfg","yqsgnifpxs","ngsypsxqfi","fspinxysqg","sixgfypqsn","iysnxpqfsg","psxynsfgiq","fqgpsixnsy","nsgypsfiqx","sqxnspiygf","sgsnypxqif","yssfxgpinq","ifpssnyxgq","fnpsxqsyig","gqypnxfsis","sqgfpxnysi","qigfsxypsn","spnygfsqix","sisnxfgpyq","yfsgniqpxs","sxynqfgpis","pxssigqnfy","siyfsxgqpn","sipgqyxfsn","nqsixpgfsy","gqyxssnpif","qgsnfpysxi","sqysfnpxgi","ngqsyxsfip","fpsxsngyqi","spfxqisnyg","fpxsgiyqns","gsxnqfiyps","pqixnfssgy","spxysfqgin","xnyssgiqpf","qspnyifsgx","yxspnisfgq","xqgsypsinf","sipgnsyxfq","inspsqfxgy","pgixsfqnsy","fxqipgssny","yxfspgsinq","fgiqysxpns","npgxqissfy","nipfxsqysg","ipsxfgqnys","fxsipsqyng","yspxsqfgin","iynqpfgssx","xisqsfpnyg","ynqxfsgips","sgyiqspnfx","pfsiqysxng","nqsgypsifx","ynspqfgsix","nqsixpgfys","spxsfyignq","qfpnsxigys","snsfigxyqp","sfsqpynxgi","spxynfqgis","inxypfsqsg","pgqsnsxyfi","ygixqsfsnp","qnpsyifsgx","pqsyfgixns","qixnpfsgys","qxpinfyssg","yxngpfqiss","spgsfnxyqi","sqxygipfsn","sgixpnsqyf","snqipxgysf","xsqpygsnfi","ysfnsgpixq","sysgxiqfnp","psyxgnqsfi","nfqssyigxp","nspsfiyqxg","qfpysgnsix","nyixsfpgsq","qynspixfsg","synpixgfqs","sxpfgiyqns","pgyqnssifx","xisyqfnspg","ifnqgspxys","fxsqysgpni","psqsfygxni","fiypxqgnss","fsispnqxyg","ygnxpsfsiq","fpsqgxynis","qigynxspfs","ssyfipqngx","xiypsqgsnf","snsygfxqip","yqgsnifsxp","xyfqsispgn","xgfnypqsis","nypssgqfix","fpiqsxysng","ysxgpnqsfi","ixsgsfpnyq","iqysnfxpsg","sygspnfiqx","gypsisxnfq","ynfsisgxpq","pyiqfgxnss","xpsifgqnys","gsxqyfnsip","fpnsigqsyx","yqsgnfispx","isfyxnqsgp","gqsifxypsn","nfqyxspgis","fipgnsyxsq","pnyfiqsxsg","qiyfnxsgsp","sqsxingfpy","yfsgpnqxsi","qsxgpnyfis","gsyfnxsipq","siyfqnsxpg","pqsxgynsfi","qsisnpgxyf","sxpsigqnfy","ifsxygpsnq","qgnsxisfyp","fqxispsnyg","syqsfgpnxi","spixqfsnyg","xsnifsgpyq","ygisnqpxfs","yspsqxnfig","qxisyngfsp","gsnyqsxifp","yixssnpgqf","psqfxsgyni","sisngpxqyf","qygsisnfpx","sfqsypxnig","sfxniyqpsg","fyispnqxsg","qxfspgisyn","igyssfpqnx","fxgisnpsyq","igspnfxysq","qnysfspigx","ysfinpgqxs","pgyqissnfx","xfgsqpnisy","gxnqysfspi","ysifxqpgns","qnysgspxfi","sgfspixynq","ssnyqpigfx","pgxsiyfnqs","nqxisfsgpy","sqpxfiygns","pxgsisqnfy","pyqssnfixg","pfsisygqxn","npyxsfgqsi","syqgsxipnf","inqyfssgxp","xsgnqfsiyp","qifnsxsgpy","nisqgxysfp","fsyxsnpgiq","xsfnypqgis","siqpngsxyf","xnpfsysiqg","xyngqpfsis","xspqgsfyin","ysxiqfpnsg","fpgsyqxisn","pqgxisfnsy","sqixnfpsgy","gsfiqspnyx","nsyxgpqsfi","xisgsqpfny","yngqxfsips","qsgfpsyxin","qfgnsxspiy","fsqxipnsyg","gxfsqsipyn","sfnqipyxgs","gifqxypssn","nisgsqxfpy","xnpisqsfgy","gxnspifysq","fiqsgsnxpy","xyfissnpgq","syqfgsnxip","pgsiyfxqsn","iqnfyxgssp","ifspsyxgnq","psnfgsyqxi","gxsspiqnyf","ygipsfsnqx","gxsqspyifn","gqsifxypns","ifgspxsyqn","ypgsixqnsf","gxpsisqnfy","nssxfiqgpy","sysfixgqpn","sgfnxsyqip","psxsfygqni","psyqxifgsn","qxnfspyisg","qsspixngfy","gxpsqsifyn","xfisqpngsy","yxsfingpqs","gsqfpxnsiy","xigsnpqsyf","gnisqxyfsp","fxgpinssyq","gyssxiqfnp","ygfispsqxn","fsgxnqsiyp","sqsfxgnyip","npiyqssfgx","iyxqgpsnsf","sxpyqfigsn","gqixynssfp","isxnsygpqf","qinpxsyfsg","ifpsgqyxns","sngfyspxiq","pqyigsxnsf","gxfpqissny","nqigxsspyf","synfpxiqgs","infpqxssgy","gipnfsxyqs","nsiyfsqpxg","niyxspqfgs","iqgsynfpsx","xfspsiygnq","gqinyxssfp","pngxssyqif","yssnxiqpgf","isfgnqpyxs","sspqyfnigx","syxigqnpfs","gnqssypifx","xifpygnssq","snipysgxfq","qsgispnfxy","xfnqypgssi","fpsxgiyqns","gqyxssfpin","nsygpxfsqi","fsqxpniygs","nsyiqsgxpf","sfnyspqigx","yssfqxignp","ixfpgsnqys","yfsixpgqsn","sinfsxpgqy","fxigspnsyq","psxsfyiqng","nsygxqspif","gssqypixnf","ifspgyxsnq","xsysiqfpng","sqgyixfspn","pysfqsxign","fnyssxpgqi","nysgpxfsqi","xfnqyigssp","ypixnfsgsq","sqyfsxpign","fsxqnyigsp","fnyxisqspg","ypnxgfqssi","qspnfixgys","qgspiyxsfn","fsqyxpigns","ypixnsfqgs","sqsginxfpy","pynfsisxqg","pgqfxssyni","snsgixqfpy","qysgnfispx","qispsxgnfy","nsgpxisqfy","sngixpsyfq","gyfqxispns","isxnpgqsyf","sxnypsqigf","sixnsyqpgf","snqxfygips","fsqsnpyxig","qxfnsisgpy","sgxsiyfnqp","snfiqyxpgs","iqsfyxgsnp","inpsxfqgsy","yiqspxgnsf","pqsyifsxgn","yixfsqsgnp","nypsixgfqs","psxyfsngiq","fxqingypss","sgfqsixynp","ixpqnssgfy","iyxssfgqnp","pxsnqgsiyf","ifnssyqgxp","nxgfsyipqs","fngixpsysq","gyqxssnpif","ifnsxgspqy","gnspxyiqsf","fsxipnysgq","yfiqxsnpsg","ipfyssqxng","ypqfinxgss","pssqfyingx","sfxpsqiygn","fpssnixgyq","npssxgfqyi","xsnfysiqpg","gsiqpynsxf","qxfsgpisyn","nsgsixpfqy","nixpsfyqgs","gysnxispqf","fiqssgnxpy","qisnygpfxs","qigspfsxyn","fxqsngysip","xsqgfiynps","sfyqsgpnxi","fspqignxsy","qfngsxsyip","psqnfyxgsi","xnissgyqpf","ifgnypsqxs","nsgspxqiyf","sinfsxqgpy","nxifsypqsg","iyngpxsqsf","sfqipyxsng","xpingyfqss","fipsxqsnyg","nsgpxisqyf","sgnspxqiyf","qsxgpnsfiy","snypqsgixf","gniyqxsfsp","igxnsfpqsy","gqnfsyxisp","isxnygpfsq","xygsisnfpq","pxnisfgsyq","fspixyqgns","xynfsispqg","spqsnfxiyg","fsyipxgqsn","iqgfnspxys","qinfxypgss","iqgsyfpnxs","fsxqynigsp","insysfpqxg","fygipxqssn","nsigsqfyxp","fpsynixgqs","gifqxypnss","nixpysfsgq","qnissgpxyf","gyspnsxfiq","pfyxgqnsis","sfypxnsiqg","pqfxgynssi","fgisnypxqs","issfpxgynq","ysfsqgxipn","xfqngsisyp","sfnqipyxsg","syxfgnpiqs","pnsfixgysq","fiynsqgpsx","siqxygfpsn","gfxisqypns","nfqxipssyg","iqpnygxsfs","xspsqynfig","gyxqsinpfs","igqnyfspxs","nsxysfgqip","sngsqpyixf","gssnxiqpyf","qgnixssfyp","qxpnsfigys","qissngpxyf","xfinypssgq","pqfisyngsx","qnpsxsgfyi","fiyssxpgqn","gfpsqixysn","iynsgqfxsp","fxginsspyq","issgqfnpxy","ysipfqngxs","xysgnfispq","siqxpgnyfs","gsyfxnsipq","xnfpysgsiq","ssyqnipxgf","ysxqpginfs","sgsnypfqix","qpfsgyxisn","inqfsxpsyg","ssfxnqgiyp","nsiqxsgfyp","fsxpnsgqyi","fgxspiyqns","sfxpqinsyg","npsxqfygsi","gyixsspqfn","nsfpxgqsyi","sxsginqfpy","ixssqngypf","ixpgssqynf","gixqfsypns","sixnsyqpfg","ypgsfxnsqi","isqxypsfng","xqisyfgnps","pngfiyqsxs","sixypsqfng","sfypxiqsgn","ifnpygqsxs","fsspxngyqi","qxgspfsiyn","gfnisyqspx","npgxifsyqs","ixsqnygfsp","qxinfyspsg","nxpiqysfsg","ifxsqgysnp","xnqisgspyf","sqigfsyxpn","nsxypsfiqg","isxgnqfyps","fpsxsnygqi","pyiqsxgnfs","fgsnypxqis","qnysfspxgi","nxpgqysfsi","xsqyipsfgn","nixpsyfqgs","fpsixsqyng","gypsfsxniq","spnxqyisgf","sxfqisyngp","sixsynpgqf","pqsgsfiynx","sqigsxfnyp","xqypsgsfin","syfiqnxspg","qiysgxfpsn","pisfnqsgxy","fsxpqinsyg","yfsxnsgipq","fxqgnpiyss","pqyfsnisgx","yisgnfqspx","nxyqfpgiss","qfgnpsxiys","fpgqnxsiys","iysnfqgpsx","pgnsiyfxqs","gnqyssipxf","spfiqyxngs","siygfxqnps","sgxiqsnpfy","ngqsyxsfpi","yssxqgipfn","fiqsnygsxp","sypnfxisqg","qigfsxspyn","synfisxqpg","gfqpysxsni","fpginsqxys","pssfxqygin","sfqipxysng","fqissxygnp","sfqxipnsyg","fsnyixgqsp","nqyissfxpg","qnisgspxfy","isxysfgqnp","pqgfxyssni","piyfqnsxsg","syiqnfpxgs","sfnpsyqigx","xsspgfniyq","nqspxfsyig","ipqssyngfx","sqigfysxpn","nigyfqpsxs","nifyqpsxsg","iqnfgspxys","gfnpsiqyxs","psxysqfngi","sygxpfnqsi","ixnqfgysps","ifnspyqgxs","nqpifsgyxs","fgisspynqx","gyxpissqfn","xqsnifgpsy","fnyqxgisps","fpiqsgynxs","fgsqxypisn","nyixfspgsq","gfqpysxnis","nspysigfxq","ysgpqnxsfi","ipsxsfnqgy","gxsnqpsiyf","nyxfsispqg","pnysiqsxfg","gssfqxiynp","sqfsxgpiyn","pfigsnsqxy","qxispgsyfn","sysfinxqpg","siyxfngpqs","iqpgnsyxsf","spixqsfnyg","fsnqixgysp","sgiqnfpxys","yfspigxsqn","yfgixpsnsq","sxqnpgsyif","pgsfyixqsn","sgynisqfpx","xfinqsgspy","fiqxpgssny","gypqsifnsx","iqyssfpgnx","fqypgsnxsi","ngiqpssyfx","xisqsfpgyn","fxqsngypis","fypxgsqnsi","npyxqissfg","sipgfsyqxn","nqssypgifx","ipssxyqfng","xpfgysnqsi","xspfgiysnq","ixqyfnsspg","qsxipnyfgs","ssyxngfiqp","spsynqfxig","fqgyssnixp","fgyipssxnq","qsfipnyxgs","siqpfgsxyn","fpqsgyxisn","fgqsspynix","ifpqsnyxgs","gyxpfssqin","nspqyfsigx","qgsxfpysni","yspnqgsxif","pnsqfgxyis","yfsnxiqpgs","pgxyssfqni","xfsgpnsyqi","yxfgpnqiss","ixngpysfsq","sgpnfisqxy","xspigsfyqn","gipxfsnyqs","xpqngsisyf","fnigxpsysq","fsqxiynspg","pixnsfqsgy","gfysqipxsn","xgsyinqfps","gsnqxyipsf","pgyissqfnx","ixssnfgyqp","sqsynfpgix","sqixsyfnpg","xfqisgspyn","snsfigxpqy","sngspxqiyf","gnfispxysq","nsyigqspxf","qnipgssxfy","inspqyfxgs","xssfpqygin","fsynqxisgp","fsxgnspqyi","iqssfxgnpy","gfsqpynxsi","nfpgqxiyss","nqgxisfpsy","iqypsnfgsx","syqsgfnpix","pxissygfnq","xyfisgqpns","xniyqgsfsp","nfpsgqyxis","sfnisyqgxp","fiqssgnypx","qnssypgifx","sxnfpqygis","fpgyinssxq","sqsipygnxf","pgxsysnqfi","gnfpxyissq","isxpqfsngy","ygsnifxqps","qsfnygpsxi","ixqgsfpnys","ngiqpyxssf","gxpssifnqy","snyfipqsgx","xsigqnfyps","yfqisgpsnx","sgpnifxsqy","pxgnysfqis","ysqinpsxgf","pinxsqfsyg","pyqxifssgn","nxfgspsiqy","nxpsyqfgis","nyqgfipxss","gxfspsiqyn","sqiyxgnspf","qnfpysgisx","spsynqigfx","sngysfxqip","fyisnqpxgs","nxssqyigfp","ngifsypqsx","xifpysgsnq","signfxypqs","gxfpsisqny","sygnisqfpx","qnysfgpisx","yfqxnsgips","yxfpgnqiss","yfxisspngq","xgynsifpsq","fnyxisgpqs","fpixsqysng","fsxqpniygs","nfqxypssig","psqxfsgyni","npgxsfsyqi","iysxnpfqgs","qsxiynpfsg","fsxipnyqgs","fqsxnyigsp","sqisypxfgn","fsqipnysgx","gifxspnysq","pgxysnqsfi","xnyfgsqsip","xpnysfqsig","fyqnsxpigs","fqyigsnxsp","sqysnfpxgi","fiysxspgnq","sfigsxqynp","gnqxfysips","xyipqnfssg","qspnyifsxg","nxpgissfqy","fnispsgqxy","sypxsqfgin","ynsiqpsgfx","qsygpnxfsi","ysfsnigpxq","qsinspgxyf","xinpgssyqf","ygnispsqxf","xypisqgfsn","gfnyspxisq","sxqfpgsyin","snxyipfsqg","pqfngyissx","ygxfnipssq","syxsifgpnq","sfisxgqnyp","gxpnsyfqis","gssqfixynp","npyfsxgqsi","fgxyspsniq","nqxisfpgsy","ssngiqxpfy","xgqpysfisn","nspsfyigxq","gnxyifspsq","npfqxssyig","qspxyfgisn","ispnfqxgys","sqsypnigfx","qxssypifgn","ifsynsqpxg","qxgnyfspsi","isfpgxnqys","pqyfsnsigx","psynsigxqf","ixsspngyqf","qpnisyfgsx","sqyfnpgsxi","sgnxpyqfis","qyxsifgpns","sysfixnqpg","ypsfxqigns","nisxgqysfp","ssniqpygfx","gsqxsynpif","yssxpgiqfn","siqpngyxsf","psqgfyxnsi","gsifyqspnx","qyssfxgnip","sqpnxfgyis","iqxynsspgf","spfxqinsyg","sipxfsyqgn","nqigpssxyf","fxspgiyqns","qspifygxsn","nxissgqpfy","pxsiygqnfs","nspixfsqgy","xgfiyqpsns","pssfnqigxy","ygsqifxnps","ssgpxinqfy","spgsfxnyqi","ypifngsqsx","qpyigsxnsf","snpqyfsigx","sfixqpgyns","pxsinfyqsg","fgipsnyxsq","qxngyfspsi","fsipxqgnys","yfsixpgnsq","pnyfqssigx","sigxpqnyfs","pqsifgyxns","gxyssiqfnp","psxgiyqnsf","sxynfqgpis","gxfssypnqi","fqgssxpnyi","siyfqsnxpg","gnsxqpsiyf","syqnsxipgf","qspxyfgins","gpxsyiqfns","iqssgxfnpy","yspixfsqgn","qnxisyfgsp","ixnpgssyqf","sfysnqpxgi","sgfpqsxiny","npsxsfygqi","qnfpyigssx","ssigpnqyfx","pqfsgynsxi","xqgypnfiss","ixqyfpssng","siynqsfxpg","xisgnyqpsf","xissgqpnfy","nyfssxgipq","qsygsnxfpi","gipsfsnyqx","fpssqixgyn","fiyxspqsgn","pgxyssfqin","fgsspyxiqn","gpxyisqnsf","pysigxsfnq","fsqpixgsyn","nfpxyissgq","iqnfgysxsp","pnygssqifx","pisgsyxqfn","ifxspgysnq","gfspysxiqn","pxsifgqnys","iyfqsxspgn","spsfiyxngq","piyxqsfsng","iqpnsfxsgy","xissgqpfny","ifnsgqpxys","qispsxgfny","iqnfgyspsx","psyigsqfnx","spiyxgnsqf","xnyigfqsps","snyfpgxqis","sspgfixnqy","qpgynxsifs","gqspinxsyf","snqfispyxg","ispnyqsgxf","qpysgsxnif","xiygnsqfps","iqnsgspxyf","spsqgxifny","snyqgxfspi","iqgfnyspsx","snifqypxgs","gssnxiypqf","sgnpsqyifx","xqynpsfsgi","pqxyissngf","yxgsinfpsq","ixgsyfpnqs","fpginqxssy","ispsngfxqy","spfnigqxsy","qiyfnxgssp","spgfiyxqsn","npqxsfgysi","syfxgnpiqs","fpiqsnysxg","syifgqxspn","fsxnpgqsyi","ygixpsfsnq","xqypssgfin","fxsynipgqs","ysfxnqgisp","gqsifnypxs","nsgypfxqis","nfiyqpsxsg","sqyfpnisxg","fyqgnpixss","gsnpxyiqsf","syiqpgxsnf","xsfspiqngy","sysgiqxfnp","gpifyqssnx","sfiyspqngx","fsqpxngysi","yxsignpfsq","figqxnspys","fsspxqgyin","pgfnqyissx","gnysqpisfx","nxssfyigqp","spsfqxginy","spsyfqnxig","xssyqnfipg","sngyqsfixp","pisqnfxsgy","syqfgsnixp","pfqsygnisx","yqgsinfpsx","gxpqssifyn","nxsfqpgiys","nqyissgxpf","xqfnpigyss","ssifxngyqp","qnyfgpssix","ngpssqfixy","snfpysgxiq","sgxiqsypfn","fiynqssxpg","gfxsqipysn","xiysqgfpsn","ssypqgxinf","snfxqipsyg","xngsqpfisy","isqyngfpsx","fsgnqxsiyp","fnysqxpgsi","sfnxipyqsg","pgxyssnqfi","qnfygpssix","sgqpfxsnyi","fqginpxssy","yfgpqnxiss","fqginsxspy","ygfnqsxpsi","xfpyisnsqg","spigfnsxyq","ynpqixfssg","yfqpgnxiss","giqxfpnyss","pinxqsfsyg","gpxsysnqfi","fpixsqnsyg","ngqifsyxps","psxygnqsfi","spgqifxnsy","qsfnygpsix","pqsisxgnyf","fpqynsisxg","xnyqfpgiss","nfpqyisgsx","pfsixygqsn","pifxygnssq","nyfsixgpqs","pqsisygnxf","fqgxispnsy","fpyqsnisxg","ypxnifsgqs","sgfqpixyns","pynsfqsxig","igxssfpqny","fgqisnspxy","npisqysfgx","iyfgsqpsnx","sgpnfiqsxy","ifpxgqynss","xssfgpyniq","fnyxisqpgs","isxgnqpyfs","iyxsnsqfpg","pxsgsyiqfn","xnipqsgysf","sspnyqigxf","igpsnsqfxy","isfypnqsgx","gspsnifxqy","yngsxfqips","pyngisqxsf","pnyixgfqss","ysfsngipxq","syifnqpxgs","sfxpqyisgn","sgnfpyqxis","pqyfsnisxg","pnysfqsxig","fsspgqxyni","fqyinsgxsp","spngqfyisx","pgyfqxinss","giynpqssxf","yfqissgpxn","nspsgiyfxq","sxpinfyqsg","sxnfpyqgis","qsxiyfpnsg","gnsipysfxq","siqnxgyfps","yfgpxnqssi","xisgsqnfpy","fnsixqpgsy","fqypgssxni","qsgyfixnps","pngfqsysix","sisnqxypfg","siqnsgyfpx","psxgfyqnsi","sgpinyqsxf","ysngfixsqp","fxqspgysin","yssfngpixq","xspyiqsfgn","fqgsixpnsy","xiypfsgsnq","ipyxgsfsqn","yfipxqsgns","yxfspgisnq","pqxyisgnsf","sisfqxgpny","nspxisgqfy","qsinypfsxg","isyxfqsngp","snsqyxgfpi","xnigsfypsq","ssgnxpqyif","ginqsfspxy","xqpnsfgyis","nqygxsspif","ipysnfxqsg","nsxpisqgfy","xyigsqfnps","ixgnyfspsq","fsyqsgixnp","xgifspqsyn","psqnfixgys","isnsgqpxyf","nygssxfipq","gqinysxsfp","nfqsxyspgi","fsysqgxipn","fgxisypqsn","fspyixnqsg","fpsinyqgxs","fysqinspxg","piqynsfsgx","iqsxgsnfyp","pssxyignfq","pyqssnifxg","fsqpignxsy","nqsxgsyfpi","gfnqysxspi","nqsixfpgsy","fsinqsyxpg","ifgpxynssq","pxngsyiqfs","gfyssiqxnp","snsyipfxqg","ysgnsxifpq","psqynigxfs","ygfxpnssiq","inspsyfxgq","nsfgpxqsyi","yfsnigxpqs","yqgfnispsx","fpssnxygiq","xsignqfyps","nssfigxpqy","pynxifssgq","fiypsqgnsx","qisfsxgpny","xgpysnqsfi","fgsqpyxisn","spiysgnxqf","fsgsiqyxnp","sgxqyfnsip","syixgfspnq","pnsfsqigxy","gifyqspxsn","xnypgsisqf","qspfynxgsi","nxpsgqfyis","ipsnxyqfsg","sxpfgiynqs","xiysgqfpsn","xfsngsiqyp","sxqsnfgipy","gfxpyisnsq","pnxgssqyif","nisqxsgfyp","ypsgfnqxsi","qpysnsgxif","piqxnfssgy","snqxfgsyip","ypsgxqfsin","sipgsyxqfn","nsxfyispqg","gqixfpnyss","npsifqygxs","isgnqypfxs","ssyxnfgipq","pysqfgxnis","qpisgsxyfn","psqynsfigx","igyqnssxfp","qnsygfpisx","gysqspxifn","xspyinsfgq","pnyfssqigx","ixspqgfnys","fqysxspgni","qnypisfgxs","pqgyissnxf","qpifsxgnsy","xfisqgnpsy","iqpnfsxgys","xinpgsysqf","spxgqfiysn","qsgfxsypin","psnygsfqxi","qiynsgspxf","fpsinyxgqs","qxsnysfgip","psfnqsigxy","pxsqgiynfs","nfxsgyspqi","ypsgniqfxs","ifsgqsnpxy","yfpgixqssn","sspxyfginq","pxsqginyfs","iynqgfpssx","fsxiqypnsg","pgqiysxnfs","fxgpsnisyq","sxypqfigns","xqygpnfiss","sqgyixpsfn","nigfxsypsq","giysqfpsxn","qspgynxfsi","pqsfnisgxy","qngisxspyf","qnyssgpixf","sfgpxnqysi","isxgqfsnpy","pgyinsfxqs","ygnxpfssiq","gifxqpnyss","ynfsxiqspg","gyisnsxfpq","gxqnfysips","psyxsnfgiq","fpsqignsyx","ixsfqgpnys","gpyxisfnqs","gxpyfsnsqi","piysfxgqsn","ixfssngpyq","sigqnfpxys","ipxngyfqss","nifgxspqys","sgxnyfspqi","sinygfpsqx","qiyfnxpgss","yqpixfngss","ynxsigqpsf","fxipqsgsny","ifspngxysq","fxyingspsq","pgnyisqxsf","syqfgnpixs","yfgissqpxn","xqysfpigns","fiynxsgqsp","xqsniyspgf","fpgynsqsxi","spyxisfnqg","nspsgyifxq","xyfissngpq","ysngifxsqp","gfypqsxsni","npssygfqxi","xypfqssign","nypsifgxqs","xsyginsfpq","yqsxpisfgn","qfpngxissy","sfygxpniqs","fiyqxpgnss","npsxsfgyqi","xpfnisgsqy","ixyqnssgfp","xynssgiqpf","qxfpsisgny","fsqipxysng","sqnspixyfg","pysiqfsxng","spignfsxyq","fxsynpigqs","gsnspxqiyf","snfisyxpgq","pyxqnfsigs","pfxnsygiqs","ysqinpfxgs","xnpsiqsfgy","fsyqsgxinp","gsiyxqsfpn","snqspfxiyg","gqisynspfx","gsspqinyxf","yfisxqpgns","qssgipfynx","sfipqxgyns","sfxnsqyigp","pxqnfgissy","yssgixqpnf","snqsxfgipy","isxyqfsnpg","nqspfigysx","ygnispfqxs","pnyqisfgxs","pngsiyqfxs","xpqsgnisyf","xipgqysfsn","fqysnsgxip","gysnpsxfiq","qgisnypxfs","fxgpnssiyq","yginpssqxf","gqsifpyxns","xspsgqfyin","gfiqxypssn","gnysqxisfp","qsinxsgfyp","sgfqxsynip","igxsyfqspn","xiygfsqnps","sxfpqigsny","nqsixfgpsy","gsfxsynpiq","ypxqgfsins","fnypgixsqs","psxnfiqgys","npfysqgsix","ypgqxsfins","fpsnigqsyx","nsgypfxsiq","xsgsifpnqy","qigfpssxyn","xyqgnfisps","pssiyxgnfq","ygsqixnsfp","pixnsyqsgf","iqsnygpfxs","pxynfgissq","yxsqpginfs","sfxiqypsgn","spxfiysngq","ifxspgqsny","spsxqyingf","nigfsxypsq","yxfnsgpsiq","gsyqspixnf","ysxginqsfp","sfxnsgyiqp","xyigsfnpsq","ixsqgsnfyp","sqxisypgnf","nyixpfsqsg","sxpfgiysnq","qsfpxngysi","sgpqifxnsy","pnyxsifqsg","nfpxqsgsiy","iqfgpnyxss","fpgxnqsiys","fgyssipxnq","fgqsnxypis","sqyfpxngsi","pyqnifsxgs","ipsnfyqgxs","infspsgqxy","sqfgniypxs","gqyinsspxf","ixspfgqnys","ixsgpynfsq","npxssyfiqg","pqgnfixyss","fqigssyxpn","sqgpixyfsn","fxnyqgspsi","yisqgxnpfs","qigfxsspyn","yfgnisxpqs","sfnpxiqsgy","fxyiqgpnss","iyxsnsfqpg","gissfxynqp","fxsiqgpnys","syqpfnixsg","gfxypisnsq","iqgsynspfx","fyqpsnsgxi","fnyxisqgps","siyxqgfpsn","npfxigsyqs","pynxifsgsq","gqxyispnsf","fixqpsnygs","qixsfgysnp","gqssinpxfy","insqxsgfyp","gsspfinyxq","npissyfxqg","pfyqissngx","iqpnyfxsgs","gqxniyspsf","xsyifqpgsn","nigsspqfxy","ygqxspfsin","xqgniyspsf","xpqnfsyisg","ipxssfgqny","fsinqsgxpy","ngqissxpfy","ssgypnfiqx","pqgfnsixys","yfqixsgpsn","sgixpnfqsy","spiysxngqf","yxispfnsgq","yngsixfpsq","xgsyiqnfps","ifxnsygpqs","ipsxgfnyqs","gyfxsispnq","sgpnfixsqy","pgqsysxnfi","ysxpqfisgn","nxgqisypfs","sfqipsngxy","xiysqfnspg","nqfigxssyp","ysxgisqpnf","gyxspiqfns","nqfpxssyig","gxqpysfsni","nisyfqpgxs","issypnxfgq","inxysfpqsg","qpsfyisnxg","xsiypngfqs","syqipxgnsf","pqfnsyigsx","sfpxnqygsi","ygfinpsqxs","fxginsqspy","pgiysfqnsx","sgnpfyqisx","pxssyignfq","nyixsspgfq","fnisxpsyqg","xgnyisqpsf","psqynifsgx","pgiqsxynfs","sfxisypgnq","iyngpxsfsq","syfqxispgn","fgysxpnqis","fiygsxqnps","yqgfnissxp","pqnisyfgsx","qnssxpgify","ysngfxispq","iqnsxpfsgy","qpgfiyxssn","sqgnfixyps","xssfqnyipg","fsqgyispnx","qsgfxsipyn","qnyxpgfssi","synfqxpsig","sypnixgfqs","nqysfixspg","synpgxsiqf","sxpiygqnfs","ngqxyssfpi","gissfxypqn","ifsnygpsxq","igsfysqnpx","qsisngpxyf","sqfgyipxns","infyssqxpg","inysgfpsqx","gqyfnxisps","pfynsgsqxi","sipnfxysqg","ygsxpinfsq","ypqfgnxiss","ssqifygpnx","siygnxqfps","sisnyfgxpq","xsqiyfnpsg","pgixsfsnqy","qnypisxgfs","issqxpfnyg","gnsxpysfiq","yqfnsgpsix","finssyqgxp","nisfqgpsyx","ypgqxfsins","gfyssipxnq","yfsipxgqsn","gynsxiqsfp","xsgyiqnfps","xnypgsqsif","pisfgynqsx","gfxsypisqn","nsgpxiqsyf","fsyipxngsq","fxynisqpgs","gsqyfsnpix","gssnypfixq","spxfqsginy","sqfspixyng","ifgpxysnsq","gsyqsfixnp","ngyssipfqx","npsqxsfgiy","gpyxisfsqn","gsipysxqfn","issnygpfxq","qigsspnfxy","sgsqfixynp","fpgxqinsys","ynxgisqpsf","ysgsfxnpqi","sngyqsxifp","inxpsqfsgy","sgsqxfnypi","sgqnyfspxi","fpsigxynqs","pyxgisqnsf","iqsxgfnyps","qsgnfixyps","xyfpiqssng","sqysnfxpig","fnsxipsqyg","fpyxsqnsig","pgqysfinsx","fsxipygqns","insgyqfsxp","sixgpqnyfs","fsynxsgqip","fspiqxysng","xnisqgfpsy","siqfpgnysx","sxfspgiqyn","psigqsxfny","nqyisspxfg","synsgqfxip","xssfqnypig","xyqpsgsnfi","xnpfsqsiyg","fqsgxypisn","ssgxnqfiyp","xypisqsfgn","fspxiynqsg","pnxgsyiqfs","qpxnifsgys","fxyinsspgq","fsynqisxpg","sqypxsgfin","yxsgpinfsq","yixfsqspgn","fsqpxignys","niqfxspysg","ssxnqfiypg","gsyinqspxf","qpfysgnsix","sngypfxqis","pnxyfssgiq","ixsqgynfsp","iyxsfpnqgs","gxnsfipysq","sxpgqfiysn","nisyfxpgqs","fypsxqsnig","gnpssifxqy","sqxsypifgn","yginpsfqxs","ngsqpyxisf","xspsnfyqig","fpsixyqgns","iqsfyngsxp","igsqnpxfsy","nfpxyisgsq","sxypqfigsn","fssxiynqpg","pyqsifsxgn","siyxspqfgn","gqipsnxsyf","sfxnsqiygp","pxsqyignfs","xsnispqgyf","psnyigqxsf","ygfxnipssq","qgxsnisfyp","ssiqpgxynf","isfsngpxqy","qxfingypss","pxigqssfny","xisqnfpsgy","fiqspgnysx","sfynsgpqxi","psnysqfxgi","infpqxsygs","qxnifsypsg","sgxsypifqn","igyqnsxsfp","pqsgifsynx","fnyxispgqs","fiqynsgsxp","xqsnifspgy","nyqsfipxsg","fisnpgqxys","fqgsyxpnsi","pisgsqxfny","xngsqfsiyp","gpifxqssny","qxfgyipnss","nigqsxysfp","pfysixgqsn","pnyxsgfqsi","fpgsqyxisn","psyfqnsigx","iyxsnpfqgs","fsnisyqgxp","sngxipsyfq","nsigsqfpxy","qxinysgfsp","pxsisnyfgq","gyspfsxniq","spxfsyignq","ynisfgsqpx","pgyisqsfnx","ixsqnfgysp","pnysfxsgqi","ysfsqgxinp","qfysnsgxip","yxfpgnsisq","gqsyfnsxpi","nsqxypsfig","ssyxngfipq","spnsqfyigx","fgsqysxpni","spqfisxgyn","xsgsinpfqy","sfxysqipgn","ixsgyqfsnp","spnsygfqxi","qiynpgssxf","nspsfiygxq","xiqsgpfsyn","psqyfigxns","ginypqssxf","qfpnsgixys","sspxnfgiyq","qixfnypgss","fpsqnixgys","fpsyxqigns","gxssfypnqi","fgispnyxsq","yfspxqgisn","fpssgxyniq","gqsxfpyins","sqsynpfgix","isfgpxqsyn","gysspxfniq","qsypgsxifn","ngqfsspyxi","ifsgnsqpxy","sgpxsqfyin","ygixpnsqsf","sqysnfxpgi","npsfxyqgis","fgqiysxnps","gfspysxnqi","isfpqxsngy","gspsqinyxf","iqsgynfsxp","fqnspixysg","qspgfyixsn","syixpfnqsg","psqyngfisx","sfxpyisngq","qpysgsxifn","nsspxgyqif","iqnpyxgssf","xgsinpfsyq","gysipxsfnq","npxyssfiqg","npsifyqgxs","qnysifgspx","insyfqsgxp","sfxypgsqin","fqypgsxsni","gfnyspxqsi","pgyqxfisns","nygiqpsxfs","pfysgxiqsn","pysfixgqsn","xiqsnpgsyf","gsypnxfqis","pisnxfqsgy","ysngqxpfis","xyqsnfispg","nfixypssgq","nsqgpxfsyi","fsxynspgiq","gqypnxisfs","isynpqxgsf","xyfisgqnps","fsyipxqgsn","pnyqigfsxs","gxfssipnqy","sgpqifxsny","fpsgqnsyix","iypgnsqxsf","nyfsigxpqs","yqssfxgnpi","ygfpisxqsn","yginssfqxp","spgiyqnxsf","pfqsyingsx","ysnqxgipsf","sngsxpqyif","sigpnxqyfs","ysniqsxfgp","gsinpyqsxf","nigfsxysqp","nfyigqxssp","qngfsxspyi","gnqsiypsfx","fsngiyqxsp","xqspigfnys","igynsfpqsx","pisfqyngsx","pxisgysfnq","xspfsiygnq","psyixqfgsn","sfxnqgyisp","ysxpnsgifq","gpxsyiqsnf","sipgnxqyfs","spginxsyfq","yspgqxnfis","xgqsfypisn","ngqissfpxy","ygpsnsqfxi","spxnsfgqiy","gyqnxispsf","fxisqnsgyp","gqssfxypin","psnfyigqxs","qxgfyipnss","ysfnqsxpgi","fgqsspxniy","ygpfisxqsn","fsgyixnqsp","qspgyfixsn","gxpfnysisq","fnyqxpgiss","pqisgysfnx","qyifsxgnsp","psnfgiyqxs","ypfgxqssin","iqxsfgysnp","fpgsnsqxyi","sisnpfgxyq","xspsnfqyig","qssyipfngx","pqfgyisnsx","gysifqpsxn","gnxsqpsiyf","qnssixfpyg","sqfnxgysip","yfspsixgnq","qsinsgpxyf","ynfqisgxps","nsisxpqgfy","gxfpnysisq","fsynqxsigp","fgxsypisqn","yixfsqgsnp","qsxfpnsyig","fiqsgsnpxy","gssqypfixn","xssfpnqiyg","qygfpssxin","snpgfisqxy","ssfpqgxiny","gfxysipnsq","sngpqsyixf","sigpnxsyfq","spsxyinfqg"};
        System.out.println(similarStringGroups.numSimilarGroups(A));
    }

    public int numSimilarGroups(String[] A) {
        int n = A.length;
        Map<String, Set<String>> similarMap = new HashMap<>();
        for (String str : A) similarMap.put(str, new HashSet<>());
        for (int i = 0; i < n; i++) {
            for (int j = i + 1; j < n; j++) {
                if (similarMap.get(A[i]).contains(A[j]) || similarMap.get(A[j]).contains(A[i])) continue;
                if (isSimilar(A[i], A[j])) {
                    Set<String> aSet = similarMap.get(A[i]);
                    Set<String> bSet = similarMap.get(A[j]);
                    aSet.add(A[j]);
                    bSet.add(A[i]);
                    similarMap.put(A[i], aSet);
                    similarMap.put(A[j], bSet);
                }
            }
        }
        Map<String, Boolean> visited = new HashMap<>();
        for (String str : A) visited.put(str, false);
        int res = 0;
        for (int i = 0; i < n; i++) {
            if (visited.get(A[i])) continue;
            visited.put(A[i], true);
            dfs(similarMap, visited, A[i]);
            res++;
        }
        return res;
    }

    private void dfs(Map<String, Set<String>> similarMap, Map<String, Boolean> visited, String curr) {
        Set<String> similarOnes = similarMap.get(curr);
        if (similarOnes == null) return;
        for (String str : similarOnes) {
            if (visited.get(str)) continue;
            visited.put(str, true);
            dfs(similarMap, visited, str);
        }
    }

    private boolean isSimilar(String a, String b) {
        if (a.length() != b.length()) return false;
        int diff = 0;
        for (int i = 0; i < a.length(); i++) {
            if (a.charAt(i) != b.charAt(i)) diff++;
        }
        return diff <= 2;
    }
}
